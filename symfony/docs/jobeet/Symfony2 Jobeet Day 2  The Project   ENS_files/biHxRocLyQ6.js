/*!CK:2959778684!*//*1386803437,178191153*/

if (self.CavalryLogger) { CavalryLogger.start_js(["bmJmQ"]); }

__d("legacy:onload-action",["OnloadHooks"],function(a,b,c,d){var e=b('OnloadHooks');a._onloadHook=e._onloadHook;a._onafterloadHook=e._onafterloadHook;a.runHook=e.runHook;a.runHooks=e.runHooks;a.keep_window_set_as_loaded=e.keepWindowSetAsLoaded;},3);
__d("EagleEye",["Arbiter","CurrentUser","Env","OnloadEvent","WebStorage","isInIframe"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('CurrentUser'),i=b('Env'),j=b('OnloadEvent'),k=b('WebStorage'),l=b('isInIframe'),m=i.eagleEyeConfig||{},n='_e_',o=(window.name||'').toString();if(o.length==7&&o.substr(0,3)==n){o=o.substr(3);}else{o=m.seed;if(!l())window.name=n+o;}var p=(window.location.protocol=='https:'&&document.cookie.match(/\bcsm=1/))?'; secure':'',q=n+o+'_',r=new Date(Date.now()+604800000).toGMTString(),s=window.location.hostname.replace(/^.*(facebook\..*)$/i,'$1'),t='; expires='+r+';path=/; domain='+s+p,u=0,v,w=m.sessionStorage&&k.getSessionStorage(),x=document.cookie.length,y=false,z=Date.now();function aa(ea){return q+(u++)+'='+encodeURIComponent(ea)+t;}function ba(){var ea=[],fa=false,ga=0,ha=0;this.isEmpty=function(){return !ea.length;};this.enqueue=function(ia,ja){if(ja){ea.unshift(ia);}else ea.push(ia);};this.dequeue=function(){ea.shift();};this.peek=function(){return ea[0];};this.clear=function(ia){x=Math.min(x,document.cookie.length);if(!y&&(new Date()-z>60000))y=true;var ja=!ia&&(document.cookie.search(n)>=0),ka=!!i.cookie_header_limit,la=i.cookie_count_limit||19,ma=i.cookie_header_limit||3950,na=la-5,oa=ma-1000;while(!this.isEmpty()){var pa=aa(this.peek());if(ka&&(pa.length>ma||(y&&pa.length+x>ma))){this.dequeue();continue;}if((ja||ka)&&((document.cookie.length+pa.length>ma)||(document.cookie.split(';').length>la)))break;document.cookie=pa;ja=true;this.dequeue();}var qa=Date.now();if(ia||!fa&&ja&&((ha>0)&&(Math.min(10*Math.pow(2,ha-1),60000)+ga<qa))&&g.query(j.ONLOAD)&&(!this.isEmpty()||(document.cookie.length>oa)||(document.cookie.split(';').length>na))){var ra=new Image(),sa=this,ta=i.tracking_domain||'';fa=true;ra.onload=function wa(){fa=false;ha=0;sa.clear();};ra.onerror=ra.onabort=function wa(){fa=false;ga=Date.now();ha++;};var ua=i.fb_isb?'&fb_isb='+i.fb_isb:'',va='&__user='+h.getID();ra.src=ta+'/ajax/nectar.php?asyncSignal='+(Math.floor(Math.random()*10000)+1)+ua+va+'&'+(!ia?'':'s=')+qa;}};}v=new ba();if(w){var ca=function(){var ea=0,fa=ea;function ga(){var ja=sessionStorage.getItem('_e_ids');if(ja){var ka=(ja+'').split(';');if(ka.length==2){ea=parseInt(ka[0],10);fa=parseInt(ka[1],10);}}}function ha(){var ja=ea+';'+fa;sessionStorage.setItem('_e_ids',ja);}function ia(ja){return '_e_'+((ja!==undefined)?ja:ea++);}this.isEmpty=function(){return fa===ea;};this.enqueue=function(ja,ka){var la=ka?ia(--fa):ia();sessionStorage.setItem(la,ja);ha();};this.dequeue=function(){this.isEmpty();sessionStorage.removeItem(ia(fa));fa++;ha();};this.peek=function(){var ja=sessionStorage.getItem(ia(fa));return ja?(ja+''):ja;};this.clear=v.clear;ga();};v=new ca();}var da={log:function(ea,fa,ga){if(i.no_cookies)return;var ha=[o,Date.now(),ea].concat(fa);ha.push(ha.length);function ia(){var ja=JSON.stringify(ha);try{v.enqueue(ja,!!ga);v.clear(!!ga);}catch(ka){if(w&&(ka.code===1000)){v=new ba();w=false;ia();}}}ia();},getSessionID:function(){return o;}};e.exports=da;a.EagleEye=da;},3);
__d("ClickRefUtils",[],function(a,b,c,d,e,f){var g={get_intern_ref:function(h){if(!!h){var i={profile_minifeed:1,gb_content_and_toolbar:1,gb_muffin_area:1,ego:1,bookmarks_menu:1,jewelBoxNotif:1,jewelNotif:1,BeeperBox:1,navSearch:1};for(var j=h;j&&j!=document.body;j=j.parentNode){if(!j.id||typeof j.id!=='string')continue;if(j.id.substr(0,8)=='pagelet_')return j.id.substr(8);if(j.id.substr(0,8)=='box_app_')return j.id;if(i[j.id])return j.id;}}return '-';},get_href:function(h){var i=(h.getAttribute&&(h.getAttribute('ajaxify')||h.getAttribute('data-endpoint'))||h.action||h.href||h.name);return typeof i==='string'?i:null;},should_report:function(h,i){if(i=='FORCE')return true;if(i=='INDIRECT')return false;return h&&(g.get_href(h)||(h.getAttribute&&h.getAttribute('data-ft')));}};e.exports=g;});
__d("setUECookie",["Env"],function(a,b,c,d,e,f){var g=b('Env');function h(i){if(!g.no_cookies)document.cookie="act="+encodeURIComponent(i)+"; path=/; domain="+window.location.hostname.replace(/^.*(\.facebook\..*)$/i,'$1');}e.exports=h;});
__d("ClickRefLogger",["Arbiter","Banzai","ClickRefUtils","EagleEye","Vector","$","collectDataAttributes","copyProperties","ge","pageID","setUECookie"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Banzai'),i=b('ClickRefUtils'),j=b('EagleEye'),k=b('Vector'),l=b('$'),m=b('collectDataAttributes'),n=b('copyProperties'),o=b('ge'),p=b('pageID'),q=b('setUECookie'),r={delay:h.BASIC.delay,retry:true};function s(u){if(!o('content'))return [0,0,0,0];var v=l('content'),w=k.getEventPosition(u);return [w.x,w.y,v.offsetLeft,v.clientWidth];}function t(u,v,event,w){var x='r',y=[0,0,0,0],z,aa;if(!!event){z=event.type;if(z=='click'&&o('content'))y=s(event);var ba=0;event.ctrlKey&&(ba+=1);event.shiftKey&&(ba+=2);event.altKey&&(ba+=4);event.metaKey&&(ba+=8);if(ba)z+=ba;}if(!!v)aa=i.get_href(v);var ca=m(!!event?(event.target||event.srcElement):v,['ft','gt']);n(ca.ft,w.ft||{});n(ca.gt,w.gt||{});if(typeof(ca.ft.ei)==='string')delete ca.ft.ei;var da=[u._ue_ts,u._ue_count,aa||'-',u._context,z||'-',i.get_intern_ref(v),x,a.URI?a.URI.getRequestURI(true,true).getUnqualifiedURI().toString():location.pathname+location.search+location.hash,ca].concat(y).concat(p);return da;}g.subscribe("ClickRefAction/new",function(u,v){if(i.should_report(v.node,v.mode)){var w=t(v.cfa,v.node,v.event,v.extra_data),x=[j.getSessionID(),Date.now(),'act'];q(v.cfa.ue);if(h.isEnabled('click_ref_logger')){h.post('click_ref_logger',Array.prototype.concat(x,w),r);}else j.log('act',w);}});});
__d("PostLoadJS",["Bootloader","Run","emptyFunction"],function(a,b,c,d,e,f){var g=b('Bootloader'),h=b('Run'),i=b('emptyFunction');function j(l,m){h.onAfterLoad(function(){g.loadModules.call(g,[l],m);});}var k={loadAndRequire:function(l){j(l,i);},loadAndCall:function(l,m,n){j(l,function(o){o[m].apply(o,n);});}};e.exports=k;});
__d("ScriptPathState",["Arbiter"],function(a,b,c,d,e,f){var g=b('Arbiter'),h,i,j,k,l=100,m={setIsUIPageletRequest:function(n){j=n;},setUserURISampleRate:function(n){k=n;},reset:function(){h=null;i=false;j=false;},_shouldUpdateScriptPath:function(){return (i&&!j);},_shouldSendURI:function(){return (Math.random()<k);},getParams:function(){var n={};if(m._shouldUpdateScriptPath()){if(m._shouldSendURI()&&h!==null)n.user_uri=h.substring(0,l);}else n.no_script_path=1;return n;}};g.subscribe("pre_page_transition",function(n,o){i=true;h=o.to.getUnqualifiedURI().toString();});e.exports=a.ScriptPathState=m;});
__d("UserActionHistory",["Arbiter","ClickRefUtils","ScriptPath","throttle","WebStorage"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ClickRefUtils'),i=b('ScriptPath'),j=b('throttle'),k=b('WebStorage'),l={click:1,submit:1},m=false,n={log:[],len:0},o=j.acrossTransitions(function(){try{m._ua_log=JSON.stringify(n);}catch(r){m=false;}},1000);function p(){var r=k.getSessionStorage();if(r){m=r;m._ua_log&&(n=JSON.parse(m._ua_log));}else m=false;n.log[n.len%10]={ts:Date.now(),path:'-',index:n.len,type:'init',iref:'-'};n.len++;g.subscribe("UserAction/new",function(s,t){var u=t.ua,v=t.node,event=t.event;if(!event||!(event.type in l))return;var w={path:i.getScriptPath(),type:event.type,ts:u._ue_ts,iref:h.get_intern_ref(v)||'-',index:n.len};n.log[n.len++%10]=w;m&&o();});}function q(){return n.log.sort(function(r,s){return (s.ts!=r.ts)?(s.ts-r.ts):(s.index-r.index);});}p();e.exports={getHistory:q};});